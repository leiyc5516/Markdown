**层次数据模型：**把各类关系利用树节点来建立关系**PCR只可以表达一对多的关系**

定义：层次数据模型是用树状<层次>结构来组织数据的数据模型。

满足下面两个条件的基本层次联系的集合为层次模型

       1. 有且只有一个结点没有双亲结点，这个结点称为根结点
          2. 根以外的其它结点有且只有一个双亲结点

![](E:\MarkdownPicture\20190414131159459.png)

![](E:\MarkdownPicture\20190414131334615.png)



![](E:\MarkdownPicture\20190414131430734.png)







**网状数据模型：**

定义：用有向图表示实体和实体之间的联系的数据结构模型称为网状数据模型。
满足下面两个条件的基本层次联系的集合称为网状数据模型：

       1. 允许一个以上的结点无双亲；
          2. 一个结点可以有多于一个的双亲。

![](E:\MarkdownPicture\20190414132105421.png)

![](E:\MarkdownPicture\20190414132301184.png)





:balance_scale:**关系型数据模型:表格**

* 关系型数据模型对应的数据库自然就是关系型数据库了，这是目前应用最多的数据库。
* 定义：使用表格表示实体和实体之间关系的数据模型称之为关系数据模型。
* 关系型数据库是目前最流行的数据库，同时也是被普遍使用的数据库，如MySQL就是一种流行的数据库。支持关系数据模型的数据库管理系统称为关系型数据库管理系统。
* 特征：
  * 关系数据模型中，无论是是实体、还是实体之间的联系都是被映射成统一的关系—一张二维表，在关系模型中，操作的对象和结果都是一张二维表，它由行和列组成；
  * 关系型数据库可用于表示实体之间的多对多的关系，只是此时要借助第三个关系—表，来实现多对多的关系；
  * 关系必须是规范化的关系，即每个属性是不可分割的实体，不允许表中表的存在；

**:artificial_satellite:SQL：非过程语言，对用户友好**

:baby:**软连接：**



**属性与域**：

* 属性：用于刻画实体的一些信息的标识，比如人的性别，名字等
* 域：属性的取值范围
  * 要求：原子性-----1NF（不能是结构数组，不能出现表中套表，只能是基本数据类型）
  * 允许空值NULL

**关系和元组：**

* 关系：在属性上定义的一个N元联系，关系R由N个属性组成。
* 元组：tuple，数据库表中的一行，就是N个属性的取值

### **主键：**

* Primary Key：主键
* **候选键：表中一个属性的值唯一决定了该组数据，只要该属性上的值不同，元组不同，该组属性具有唯一性而这个属性的子集不满足条件 **(***满足条件的属性组最小集合***)
  * 例如学生的学号：满足是可以唯一确认学生
* **超键：**只满足唯一确定性
  * 例如学生的（学号&&姓名）两个属性也可以确定唯一的一组数据，但是他不满足子集也可以唯一确定（姓名），我们称这样的键为超键
* **候补键：**
  * 当多个候选键存在时，我们确定一下个主键，其余候选键作为候补键

### 外键：（引用完整性约束）

* 外键：foreign Key
* 也是一组属性，利用这组属性来引用另外一组属性（是被引用表的主键）
* 软连接的逻辑指针（不能为空）
* 加上外键，表明DBMS要为你强制检查这个属性的值是否为空，不允许为空



### 关系的完整性
​        关系模型中有三类完整性约束：实体完整性、参照完整性和用户定义的完整性，其中实体完整性和参照完整性是关系数据模型必须满足的完整性约束条件，被称作是关系的两个不变性，应该由关系系统自动支持。

1、实体完整性
1.1 实体完整性规则

        若属性（一个或一组属性）A是基本关系R的主属性，则A不能取空值。

1.2 实体完整性规则说明

⑴ 一个基本表通常对应现实世界的一个实体集；

⑵ 实体在现实世界中是可区分的，它们具有某种唯一性的标识，关系模型中以主码作为唯一性标识；

⑶ 主码中的属性即主属性不能取空值。

2、参照完整性
2.1 参照完整性规则

        若属性（一个或一组属性）F是基本关系R的外码，它与基本关系S的主码相对应（R和S有可能是相同的关系），则对于R中每个元组在F上的值必须：或者取空值，或者等于S中某个元组的主码值。
    
        参照完整性规则就是定义外码和主码之间的引用规则。

2.2 参照完整性规则说明

⑴ 不仅两个或两个以上的关系间存在引用关系，同一关系内部属性间也可能存在引用关系（如学生（学员，...，班长））；

⑵ 如果F是关系R的一个或一组属性，但不是关系R的主码，K是基本关系S的主码。如果F与K相对应，则称F是R的外码，并称基本关系R为参照关系，基本关系S为被参照关系。关系R和S有可能是相同的关系。

⑶ 外码并不一定发与相对应的主码同名，但实际应用中为了方便识别，一般使用同名；

⑷ 当参照完整性约束和实体完整性约束无法同时满足时，优先满足实体完整性约束，如成绩关系中学号和课程号分别参照学生关系和课程关系中的主码，此时由于学号和课程号是成绩关系中的主属性，则它们不能取空值，只能取被参照关系中已经存在的主码值。

3、用户定义的完整性
        用户定义的完整性约束就是针对某一具体关系数据库的约束条件，它反映某一具体应用所涉及的数据必须满足的语义要求，如某个属性必须取唯一值、某个非主属性不能取空值。

### 域完整性约束：

* 每张表中的值都必须服从他对该属性的值得要求

### 实体完整性约束：

* 主键不能为空

### 关系代数：

![](E:\MarkdownPicture\20190405200121561.png)

* select：选择操作：在一张表中找出满足关系的行（元组），**横向查找**
* projection：投影操作：去除不需要的属性，保留我们需要的列属性，**纵向查找消除重复元素**
* cross-product：笛卡尔积：拼接两个小的关系，成为一个大的关系 
* set-diffrence：集合差：找出属于前者的关系的元组，而不属于后者的元组（A-B保留A中与B中不重复的元素）
* Union：并操作：两个满足并兼容的关系，合并元组成一个关系
* 连接操作：**笛卡尔积和条件选择操作组合实现**
* 等值连接：连接的特殊情况按照两表某个属性等值做连接
* 自然连接：公共属性的等值连接
* 除法：就是属性集合（A，B）/(B)=就是A属性或者属性集合的集合元组中，与B中所有元组都有关系的元组（选修计算机所有课程的所有学生）（就可以把学生除以计算机所有课程属性）｛除法=投影需要查询的元素，与另外一个关系做笛卡尔乘积再去掉重复元素在投影得到不满足除法的投影结果｝
* 外连接是内连接的扩展，满足条件自然连接，否者补空值
* 外并操作：就是去除重复属性的外连接，没有的补空值